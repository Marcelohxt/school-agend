{% extends 'core/base_form.html' %}

{% block title %}{{ title }} - Agenda Escolar{% endblock %}

{% block form_content %}
    <div class="mb-4">
        <label for="id_turma" class="block text-sm font-medium text-gray-700">Turma</label>
        <select name="turma" id="id_turma" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
            <option value="">Selecione a turma</option>
            {% for turma in turmas %}
            <option value="{{ turma.id }}" {% if form.turma.value == turma.id %}selected{% endif %}>{{ turma.nome }}</option>
            {% endfor %}
        </select>
        {% if form.turma.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.turma.errors }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="id_tipo" class="block text-sm font-medium text-gray-700">Tipo de Atividade</label>
        <select name="tipo" id="id_tipo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
            <option value="">Selecione o tipo</option>
            <option value="AULA" {% if form.tipo.value == 'AULA' %}selected{% endif %}>Aula</option>
            <option value="RECREIO" {% if form.tipo.value == 'RECREIO' %}selected{% endif %}>Recreio</option>
            <option value="ALMOCO" {% if form.tipo.value == 'ALMOCO' %}selected{% endif %}>Almoço</option>
            <option value="SONO" {% if form.tipo.value == 'SONO' %}selected{% endif %}>Sono</option>
            <option value="OUTRO" {% if form.tipo.value == 'OUTRO' %}selected{% endif %}>Outro</option>
        </select>
        {% if form.tipo.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.tipo.errors }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="id_data" class="block text-sm font-medium text-gray-700">Data</label>
        <input type="date" name="data" id="id_data" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="{{ form.data.value|date:'Y-m-d'|default:'' }}" required>
        {% if form.data.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.data.errors }}</p>
        {% endif %}
    </div>

    <div class="grid grid-cols-2 gap-4 mb-4">
        <div>
            <label for="id_hora_inicio" class="block text-sm font-medium text-gray-700">Hora de Início</label>
            <input type="time" name="hora_inicio" id="id_hora_inicio" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="{{ form.hora_inicio.value|time:'H:i'|default:'' }}" required>
            {% if form.hora_inicio.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.hora_inicio.errors }}</p>
            {% endif %}
        </div>
        <div>
            <label for="id_hora_fim" class="block text-sm font-medium text-gray-700">Hora de Término</label>
            <input type="time" name="hora_fim" id="id_hora_fim" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" value="{{ form.hora_fim.value|time:'H:i'|default:'' }}" required>
            {% if form.hora_fim.errors %}
            <p class="mt-1 text-sm text-red-600">{{ form.hora_fim.errors }}</p>
            {% endif %}
        </div>
    </div>

    <div class="mb-4">
        <label for="id_descricao" class="block text-sm font-medium text-gray-700">Descrição</label>
        <textarea name="descricao" id="id_descricao" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>{{ form.descricao.value|default:'' }}</textarea>
        {% if form.descricao.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.descricao.errors }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="id_observacoes" class="block text-sm font-medium text-gray-700">Observações</label>
        <textarea name="observacoes" id="id_observacoes" rows="3" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">{{ form.observacoes.value|default:'' }}</textarea>
        {% if form.observacoes.errors %}
        <p class="mt-1 text-sm text-red-600">{{ form.observacoes.errors }}</p>
        {% endif %}
    </div>
{% endblock %} 